{"version":3,"file":"Space.stories-41ac9279.js","sources":["../../src/components/Space/Space.tsx"],"sourcesContent":["import { CSSProperties, forwardRef, useEffect, useImperativeHandle, useRef, useState } from 'react';\nimport { Box } from '~/components/Box/Box';\n\nexport type SpaceProps = {\n  'data-test-id'?: string;\n  /**\n   * The class name to be applied to the component.\n   * It can be used for CSS customizations.\n   * @default \"\"\n   * @optional\n   * @type string\n   */\n  className?: string;\n  /**\n   * The custom CSS properties to be applied to the component.\n   * This value will be merged with the default styles.\n   * @default {}\n   * @optional\n   * @type CSSProperties\n   */\n  style?: CSSProperties;\n} & (\n  | {\n      /**\n       * The space size.\n       * @type number\n       */\n      size: number;\n      fluid?: never;\n    }\n  | {\n      /**\n       * The space will fill the space.\n       * @type boolean\n       */\n      fluid: boolean;\n      size?: never;\n    }\n);\n\nexport const Space = forwardRef<HTMLDivElement, SpaceProps>((props, forwardedRef) => {\n  const [parentDirection, setParentDirection] = useState<'column' | 'row'>('row');\n\n  const spaceRef = useRef<HTMLDivElement>(null);\n  useImperativeHandle(forwardedRef, () => spaceRef?.current as HTMLDivElement);\n\n  useEffect(() => {\n    if (spaceRef.current?.parentElement) {\n      switch (getComputedStyle(spaceRef.current.parentElement).flexDirection) {\n        case 'column':\n          setParentDirection('column');\n          break;\n        case 'row':\n          setParentDirection('row');\n          break;\n        default:\n          console.warn('Space: parent element has an invalid flex direction');\n          setParentDirection('row');\n          break;\n      }\n    }\n  }, []);\n\n  function boxProps() {\n    switch (parentDirection) {\n      case 'row':\n        const width = props.size;\n        return { width, basis: width };\n      case 'column':\n        const height = props.size;\n        return { height, basis: height };\n    }\n  }\n\n  return (\n    <Box\n      data-test-id={props['data-test-id']}\n      style={props.style}\n      className={props.className}\n      ref={spaceRef}\n      {...boxProps()}\n      grow={props.fluid}\n      shrink={props.fluid}\n    />\n  );\n});\n"],"names":["Space","forwardRef","props","forwardedRef","parentDirection","setParentDirection","useState","spaceRef","useRef","useImperativeHandle","useEffect","_a","boxProps","width","height","__name","jsx","Box"],"mappings":"wOAwCO,MAAAA,EAAAC,EAAA,WAAA,CAAAC,EAAAC,IAAA,CACL,KAAA,CAAAC,EAAAC,CAAA,EAAAC,EAAA,SAAA,KAAA,EAEAC,EAAAC,SAAA,IAAA,EACAC,EAAAA,oBAAAN,EAAA,IAAAI,GAAA,YAAAA,EAAA,OAAA,EAEAG,EAAAA,UAAA,IAAA,OACE,IAAAC,EAAAJ,EAAA,UAAA,MAAAI,EAAA,cACE,OAAA,iBAAAJ,EAAA,QAAA,aAAA,EAAA,cAAA,CAAwE,IAAA,SAEpEF,EAAA,QAAA,EACA,MAAA,IAAA,MAEAA,EAAA,KAAA,EACA,MAAA,QAEA,QAAA,KAAA,qDAAA,EACAA,EAAA,KAAA,EACA,KAAA,CAEN,EAAA,CAAA,CAAA,EAGF,SAAAO,GAAA,CACE,OAAAR,EAAA,CAAyB,IAAA,MAErB,MAAAS,EAAAX,EAAA,KACA,MAAA,CAAA,MAAAW,EAAA,MAAAA,GAA6B,IAAA,SAE7B,MAAAC,EAAAZ,EAAA,KACA,MAAA,CAAA,OAAAY,EAAA,MAAAA,EAA+B,CACnC,CARF,OAAAC,EAAAH,EAAA,YAWAI,EAAA,IACEC,EAAC,CAAA,eAAAf,EAAA,cAAA,EACmC,MAAAA,EAAA,MACrB,UAAAA,EAAA,UACI,IAAAK,EACZ,GAAAK,EAAA,EACQ,KAAAV,EAAA,MACD,OAAAA,EAAA,KACE,CAAA,CAGpB,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}